<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberTerminal Pro - Multi-OS Simulator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0a0a0a;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: #111;
            padding: 10px 20px;
            border-bottom: 2px solid #00ff00;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            text-shadow: 0 0 10px #00ff00;
        }

        .status {
            font-size: 14px;
            color: #00cc00;
        }

        .platform-selector {
            display: flex;
            gap: 10px;
        }

        .platform-btn {
            background: #222;
            border: 1px solid #00ff00;
            color: #00ff00;
            padding: 5px 15px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .platform-btn.active {
            background: #00ff00;
            color: #000;
        }

        .platform-btn:hover {
            background: #00cc00;
            color: #000;
        }

        .terminal-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #0a0a0a;
            position: relative;
        }

        .terminal {
            background: #000;
            border: 1px solid #00ff00;
            border-radius: 5px;
            padding: 20px;
            min-height: 90%;
            position: relative;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
        }

        .output {
            margin-bottom: 20px;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .input-line {
            display: flex;
            align-items: center;
        }

        .prompt {
            color: #00ff00;
            margin-right: 10px;
            font-weight: bold;
        }

        .command-input {
            background: transparent;
            border: none;
            color: #00ff00;
            font-family: inherit;
            font-size: 16px;
            outline: none;
            flex: 1;
            caret-color: #00ff00;
        }

        .cursor {
            display: inline-block;
            width: 10px;
            height: 20px;
            background: #00ff00;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 49% { opacity: 1; }
            50%, 100% { opacity: 0; }
        }

        .help-text {
            color: #00cc00;
            margin-top: 10px;
        }

        .warning {
            color: #ff6600;
            margin: 10px 0;
        }

        .success {
            color: #00ff00;
            margin: 10px 0;
        }

        .error {
            color: #ff0000;
            margin: 10px 0;
        }

        .progress-bar {
            display: inline-block;
            width: 200px;
            height: 20px;
            background: #333;
            border: 1px solid #00ff00;
            margin: 10px 0;
            position: relative;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff00, #00cc00);
            width: 0%;
            transition: width 0.3s;
        }

        .footer {
            background: #111;
            padding: 10px 20px;
            border-top: 1px solid #00ff00;
            text-align: center;
            font-size: 12px;
            color: #666;
        }

        .typing-effect {
            overflow: hidden;
            white-space: nowrap;
            animation: typing 2s steps(40, end);
        }

        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }

        .glitch {
            animation: glitch 2s infinite;
        }

        @keyframes glitch {
            0%, 100% { text-shadow: 0 0 5px #00ff00; }
            25% { text-shadow: -2px 0 #ff0000, 2px 0 #00ffff; }
            50% { text-shadow: 2px 0 #ff00ff, -2px 0 #ffff00; }
            75% { text-shadow: 0 0 10px #00ff00; }
        }

        .file-tree {
            margin-left: 20px;
            color: #00ccff;
        }

        .file {
            color: #ffff00;
        }

        .directory {
            color: #00ccff;
        }

        .command-history {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid #00ff00;
            padding: 10px;
            max-height: 200px;
            overflow-y: auto;
            display: none;
        }

        .history-item {
            padding: 5px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .history-item:hover {
            background: rgba(0, 255, 0, 0.1);
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo glitch">CyberTerminal Pro</div>
        <div class="platform-selector">
            <button class="platform-btn active" onclick="switchPlatform('linux')">Linux</button>
            <button class="platform-btn" onclick="switchPlatform('windows')">Windows</button>
        </div>
        <div class="status">Status: <span id="status">SECURE</span></div>
    </div>

    <div class="terminal-container">
        <div class="terminal">
            <div class="output" id="output">
Welcome to CyberTerminal Pro - Multi-OS Simulator
Current Platform: Linux
Type 'help' for available commands.

WARNING: This is a simulation for educational purposes only.
All activities are simulated and do not access real systems.

            </div>
            <div class="input-line">
                <span class="prompt" id="prompt">user@linux:~$</span>
                <input type="text" class="command-input" id="commandInput" autofocus>
                <span class="cursor"></span>
            </div>
        </div>
        <div class="command-history" id="commandHistory"></div>
    </div>

    <div class="footer">
        Educational Use Only | Simulated Environment | No Real Systems Accessed
    </div>

    <script>
        const output = document.getElementById('output');
        const commandInput = document.getElementById('commandInput');
        const statusElement = document.getElementById('status');
        const promptElement = document.getElementById('prompt');
        const historyElement = document.getElementById('commandHistory');
        
        let currentPlatform = 'linux';
        let commandHistory = [];
        let historyIndex = -1;
        let currentDir = '/home/user';
        let fileSystem = {
            '/': {
                'home': {
                    'user': {
                        'documents': {},
                        'downloads': {},
                        'desktop': {},
                        'readme.txt': 'Welcome to the simulated terminal!'
                    }
                },
                'etc': {},
                'usr': {
                    'bin': {}
                },
                'tmp': {}
            }
        };

        const commands = {
            help: () => {
                let helpText = `Available Commands (${currentPlatform}):\n\n`;
                
                if (currentPlatform === 'linux') {
                    helpText += `File System:\n`;
                    helpText += `ls         - List directory contents\n`;
                    helpText += `cd         - Change directory\n`;
                    helpText += `pwd        - Print working directory\n`;
                    helpText += `mkdir      - Create directory\n`;
                    helpText += `touch      - Create empty file\n`;
                    helpText += `cat        - Display file contents\n`;
                    helpText += `rm         - Remove files/directories\n`;
                    helpText += `cp         - Copy files\n`;
                    helpText += `mv         - Move/rename files\n`;
                    helpText += `grep       - Search text in files\n`;
                    helpText += `chmod      - Change file permissions\n`;
                    helpText += `find       - Search for files\n\n`;
                    
                    helpText += `System:\n`;
                    helpText += `ps         - List processes\n`;
                    helpText += `top        - Show running processes\n`;
                    helpText += `kill       - Terminate processes\n`;
                    helpText += `df         - Disk space usage\n`;
                    helpText += `du         - Directory space usage\n`;
                    helpText += `free       - Memory usage\n`;
                    helpText += `uname      - System information\n`;
                    helpText += `uptime     - System uptime\n\n`;
                    
                    helpText += `Network:\n`;
                    helpText += `ifconfig   - Network interfaces\n`;
                    helpText += `ping       - Test network connection\n`;
                    helpText += `netstat    - Network statistics\n`;
                    helpText += `ssh        - SSH client\n`;
                    helpText += `wget       - Download files\n`;
                    helpText += `curl       - Transfer data\n\n`;
                } else {
                    helpText += `File System:\n`;
                    helpText += `dir        - List directory contents\n`;
                    helpText += `cd         - Change directory\n`;
                    helpText += `md         - Create directory\n`;
                    helpText += `type       - Display file contents\n`;
                    helpText += `del        - Delete files\n`;
                    helpText += `copy       - Copy files\n`;
                    helpText += `move       - Move/rename files\n`;
                    helpText += `findstr    - Search text in files\n`;
                    helpText += `attrib     - Change file attributes\n\n`;
                    
                    helpText += `System:\n`;
                    helpText += `tasklist   - List processes\n`;
                    helpText += `taskkill   - Terminate processes\n`;
                    helpText += `systeminfo - System information\n`;
                    helpText += `wmic       - Windows Management Interface\n`;
                    helpText += `chkdsk     - Check disk\n`;
                    helpText += `sfc        - System File Checker\n\n`;
                    
                    helpText += `Network:\n`;
                    helpText += `ipconfig   - Network configuration\n`;
                    helpText += `ping       - Test network connection\n`;
                    helpText += `netstat    - Network statistics\n`;
                    helpText += `tracert    - Trace route\n`;
                    helpText += `nslookup   - DNS lookup\n`;
                    helpText += `ftp        - FTP client\n\n`;
                }
                
                helpText += `General:\n`;
                helpText += `clear       - Clear terminal\n`;
                helpText += `history     - Show command history\n`;
                helpText += `date        - Show date/time\n`;
                helpText += `echo        - Display text\n`;
                helpText += `whoami      - Current user\n`;
                helpText += `exit        - Exit terminal\n`;
                helpText += `reboot      - Simulate system reboot\n`;
                
                return helpText;
            },
            
            clear: () => {
                output.innerHTML = '';
                return '';
            },
            
            ls: () => {
                if (currentPlatform !== 'linux') return 'Command not recognized. Use "dir" in Windows.';
                
                const pathParts = currentDir.split('/').filter(p => p);
                let current = fileSystem['/'];
                
                for (const part of pathParts) {
                    if (current[part]) {
                        current = current[part];
                    } else {
                        return `ls: cannot access '${currentDir}': No such directory`;
                    }
                }
                
                let result = '';
                for (const item in current) {
                    if (typeof current[item] === 'object') {
                        result += `<span class="directory">${item}/</span>  `;
                    } else {
                        result += `<span class="file">${item}</span>  `;
                    }
                }
                
                return result || 'Directory empty';
            },
            
            dir: () => {
                if (currentPlatform !== 'windows') return 'Command not recognized. Use "ls" in Linux.';
                
                const pathParts = currentDir.split('/').filter(p => p);
                let current = fileSystem['/'];
                
                for (const part of pathParts) {
                    if (current[part]) {
                        current = current[part];
                    } else {
                        return `The system cannot find the path specified.`;
                    }
                }
                
                let result = ` Directory of ${currentDir}\n\n`;
                for (const item in current) {
                    if (typeof current[item] === 'object') {
                        result += `<DIR>          ${item}\n`;
                    } else {
                        result += `               ${item}\n`;
                    }
                }
                
                return result || 'Directory empty';
            },
            
            cd: (args) => {
                if (args.length === 0) {
                    currentDir = currentPlatform === 'linux' ? '/home/user' : 'C:\\Users\\user';
                    updatePrompt();
                    return '';
                }
                
                const targetDir = args[0];
                if (targetDir === '..') {
                    const parts = currentDir.split('/').filter(p => p);
                    if (parts.length > 0) {
                        parts.pop();
                        currentDir = '/' + parts.join('/');
                    }
                } else if (targetDir === '/') {
                    currentDir = '/';
                } else if (targetDir.startsWith('/')) {
                    currentDir = targetDir;
                } else {
                    currentDir = currentDir.endsWith('/') ? currentDir + targetDir : currentDir + '/' + targetDir;
                }
                
                updatePrompt();
                return '';
            },
            
            pwd: () => {
                if (currentPlatform !== 'linux') return 'Command not recognized.';
                return currentDir;
            },
            
            mkdir: (args) => {
                if (args.length === 0) return 'Usage: mkdir <directory>';
                
                const dirName = args[0];
                const pathParts = currentDir.split('/').filter(p => p);
                let current = fileSystem['/'];
                
                for (const part of pathParts) {
                    if (current[part]) {
                        current = current[part];
                    } else {
                        return `mkdir: cannot create directory '${dirName}': No such file or directory`;
                    }
                }
                
                if (current[dirName]) {
                    return `mkdir: cannot create directory '${dirName}': File exists`;
                }
                
                current[dirName] = {};
                return `Directory '${dirName}' created`;
            },
            
            touch: (args) => {
                if (args.length === 0) return 'Usage: touch <file>';
                
                const fileName = args[0];
                const pathParts = currentDir.split('/').filter(p => p);
                let current = fileSystem['/'];
                
                for (const part of pathParts) {
                    if (current[part]) {
                        current = current[part];
                    } else {
                        return `touch: cannot touch '${fileName}': No such file or directory`;
                    }
                }
                
                current[fileName] = '';
                return `File '${fileName}' created`;
            },
            
            cat: (args) => {
                if (args.length === 0) return 'Usage: cat <file>';
                
                const fileName = args[0];
                const pathParts = currentDir.split('/').filter(p => p);
                let current = fileSystem['/'];
                
                for (const part of pathParts) {
                    if (current[part]) {
                        current = current[part];
                    } else {
                        return `cat: ${fileName}: No such file or directory`;
                    }
                }
                
                if (typeof current[fileName] === 'string') {
                    return current[fileName] || '(empty file)';
                } else {
                    return `cat: ${fileName}: Is a directory`;
                }
            },
            
            rm: (args) => {
                if (args.length === 0) return 'Usage: rm <file/directory>';
                
                const target = args[0];
                const pathParts = currentDir.split('/').filter(p => p);
                let current = fileSystem['/'];
                
                for (const part of pathParts) {
                    if (current[part]) {
                        current = current[part];
                    } else {
                        return `rm: cannot remove '${target}': No such file or directory`;
                    }
                }
                
                if (current[target]) {
                    delete current[target];
                    return `Removed '${target}'`;
                } else {
                    return `rm: cannot remove '${target}': No such file or directory`;
                }
            },
            
            ps: () => {
                if (currentPlatform !== 'linux') return 'Command not recognized. Use "tasklist" in Windows.';
                
                return `  PID TTY          TIME CMD
 1234 pts/0    00:00:01 bash
 5678 pts/0    00:00:02 terminal
 9012 pts/0    00:00:00 ps
 3456 pts/0    00:00:05 chrome
 7890 pts/0    00:00:03 code`;
            },
            
            tasklist: () => {
                if (currentPlatform !== 'windows') return 'Command not recognized. Use "ps" in Linux.';
                
                return `Image Name                     PID Session Name        Session#    Mem Usage
========================= ======== ================ =========== ============
System                         4 Services                   0      1,024 K
svchost.exe                  1234 Services                   0      5,432 K
explorer.exe                 5678 Console                    1     12,345 K
chrome.exe                   9012 Console                    1    123,456 K
Code.exe                     3456 Console                    1     98,765 K`;
            },
            
            ifconfig: () => {
                if (currentPlatform !== 'linux') return 'Command not recognized. Use "ipconfig" in Windows.';
                
                return `eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.1.100  netmask 255.255.255.0  broadcast 192.168.1.255
        ether 00:0c:29:aa:bb:cc  txqueuelen 1000  (Ethernet)
        RX packets 12345  bytes 1234567 (1.2 MB)
        TX packets 54321  bytes 9876543 (9.8 MB)
        device interrupt 16  memory 0xf7c00000-f7c20000  

lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 0  bytes 0 (0.0 B)
        TX packets 0  bytes 0 (0.0 B)`;
            },
            
            ipconfig: () => {
                if (currentPlatform !== 'windows') return 'Command not recognized. Use "ifconfig" in Windows.';
                
                return `Windows IP Configuration

Ethernet adapter Ethernet:
   Connection-specific DNS Suffix . : localdomain
   IPv4 Address. . . . . . . . . . : 192.168.1.100
   Subnet Mask . . . . . . . . . . : 255.255.255.0
   Default Gateway . . . . . . . . : 192.168.1.1

Wireless LAN adapter Wi-Fi:
   Media State . . . . . . . . . . : Media disconnected
   Connection-specific DNS Suffix . : 

Tunnel adapter isatap.{12345678-1234-1234-1234-123456789012}:
   Media State . . . . . . . . . . : Media disconnected
   Connection-specific DNS Suffix . :`;
            },
            
            ping: (args) => {
                if (args.length === 0) return 'Usage: ping <hostname>';
                
                const target = args[0];
                return `PING ${target} (${target === 'localhost' ? '127.0.0.1' : '192.168.1.1'}) 56(84) bytes of data.
64 bytes from ${target === 'localhost' ? '127.0.0.1' : '192.168.1.1'}: icmp_seq=1 ttl=64 time=0.123 ms
64 bytes from ${target === 'localhost' ? '127.0.0.1' : '192.168.1.1'}: icmp_seq=2 ttl=64 time=0.456 ms
64 bytes from ${target === 'localhost' ? '127.0.0.1' : '192.168.1.1'}: icmp_seq=3 ttl=64 time=0.789 ms

--- ${target} ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2002ms
rtt min/avg/max/mdev = 0.123/0.456/0.789/0.234 ms`;
            },
            
            netstat: () => {
                if (currentPlatform === 'linux') {
                    return `Active Internet connections (w/o servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State      
tcp        0      0 192.168.1.100:54321     104.16.1.1:443          ESTABLISHED
tcp        0      0 192.168.1.100:54322     172.217.1.1:443         ESTABLISHED
tcp6       0      0 ::1:631                 :::*                    LISTEN     
udp        0      0 0.0.0.0:68              0.0.0.0:*                           `;
                } else {
                    return `Active Connections

  Proto  Local Address          Foreign Address        State
  TCP    192.168.1.100:54321   104.16.1.1:443        ESTABLISHED
  TCP    192.168.1.100:54322   172.217.1.1:443       ESTABLISHED
  TCP    127.0.0.1:5357        DESKTOP-ABC:5357       ESTABLISHED
  UDP    192.168.1.100:123     *:*                                    `;
                }
            },
            
            ssh: (args) => {
                if (args.length === 0) return 'Usage: ssh <user@hostname>';
                
                const target = args[0];
                return `Connecting to ${target}...
The authenticity of host '${target.split('@')[1]}' can't be established.
ECDSA key fingerprint is SHA256:abc123def456ghi789jkl012mno345pqr678stu901.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '${target.split('@')[1]}' (ECDSA) to the list of known hosts.
${target.split('@')[0]}@${target.split('@')[1]}'s password: 
Welcome to Ubuntu 20.04.3 LTS (GNU/Linux 5.4.0-91-generic x86_64)

Last login: Mon Jan 1 12:00:00 2023 from 192.168.1.100
$ `;
            },
            
            grep: (args) => {
                if (args.length < 2) return 'Usage: grep <pattern> <file>';
                
                const pattern = args[0];
                const file = args[1];
                return `${file}:${pattern} - simulated match found`;
            },
            
            chmod: (args) => {
                if (args.length < 2) return 'Usage: chmod <permissions> <file>';
                
                const perms = args[0];
                const file = args[1];
                return `mode of '${file}' changed to ${perms}`;
            },
            
            top: () => {
                if (currentPlatform !== 'linux') return 'Command not recognized. Use "tasklist" in Windows.';
                
                return `top - 10:30:45 up 2 days,  3:45,  2 users,  load average: 0.10, 0.20, 0.30
Tasks: 123 total,   1 running, 122 sleeping,   0 stopped,   0 zombie
%Cpu(s):  5.0 us,  2.0 sy,  0.0 ni, 92.0 id,  1.0 wa,  0.0 hi,  0.0 si,  0.0 st
KiB Mem:   8176848 total,  2345678 used,  5831170 free,   123456 buffers
KiB Swap:  2097148 total,        0 used,  2097148 free.  1234567 cached Mem

  PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND
 1234 user      20   0  123456  23456   3456 S  5.0  0.3   0:45.67 terminal
 5678 user      20   0  234567  34567   4567 S  2.0  0.4   1:23.45 chrome
 9012 root      20   0   12345   2345    345 S  1.0  0.0   0:12.34 systemd`;
            },
            
            systeminfo: () => {
                if (currentPlatform !== 'windows') return 'Command not recognized.';
                
                return `Host Name:                 WIN-PC
OS Name:                   Microsoft Windows 10 Pro
OS Version:                10.0.19041 N/A Build 19041
OS Manufacturer:           Microsoft Corporation
OS Configuration:          Standalone Workstation
OS Build Type:             Multiprocessor Free
Registered Owner:          User
Registered Organization:   
Product ID:                12345-67890-ABCDE-FGHIJ-JKLMN
Original Install Date:     1/1/2023, 12:00:00 AM
System Boot Time:          1/2/2023, 8:30:45 AM
System Manufacturer:       Manufacturer
System Model:              Model
System Type:               x64-based PC
Processor(s):              1 Processor(s) Installed.
                           [01]: Intel64 Family 6 Model 158 Stepping 10 GenuineIntel ~2904 Mhz
BIOS Version:              Manufacturer V1.0, 1/1/2023
Windows Directory:         C:\\Windows
System Directory:          C:\\Windows\\system32
Boot Device:               \\Device\\HarddiskVolume1
System Locale:             en-us;English (United States)
Input Locale:              en-us;English (United States)
Time Zone:                 (UTC-05:00) Eastern Time (US & Canada)
Total Physical Memory:     16,384 MB
Available Physical Memory: 8,192 MB
Virtual Memory: Max Size:  32,768 MB
Virtual Memory: Available: 24,576 MB
Virtual Memory: In Use:    8,192 MB`;
            },
            
            date: () => {
                return new Date().toString();
            },
            
            echo: (args) => {
                return args.join(' ');
            },
            
            whoami: () => {
                return currentPlatform === 'linux' ? 'user' : 'win-pc\\user';
            },
            
            history: () => {
                return commandHistory.map((cmd, index) => `${index + 1}  ${cmd}`).join('\n');
            },
            
            exit: () => {
                updateStatus('TERMINATED');
                return `Session terminated.
Thank you for using CyberTerminal Pro!
Remember: With great power comes great responsibility.`;
            },
            
            reboot: () => {
                updateStatus('REBOOTING');
                animateProgress('Rebooting system...', () => {
                    return 'System reboot complete. All services running normally.';
                });
                return '';
            }
        };

        function switchPlatform(platform) {
            currentPlatform = platform;
            document.querySelectorAll('.platform-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            currentDir = platform === 'linux' ? '/home/user' : 'C:\\Users\\user';
            updatePrompt();
            
            addToOutput(`\nSwitched to ${platform.toUpperCase()} simulation\n`);
        }

        function updatePrompt() {
            if (currentPlatform === 'linux') {
                const homeDir = '/home/user';
                const displayDir = currentDir === homeDir ? '~' : currentDir;
                promptElement.textContent = `user@linux:${displayDir}$`;
            } else {
                promptElement.textContent = `${currentDir}>`;
            }
        }

        function updateStatus(status) {
            statusElement.textContent = status;
            statusElement.style.color = status === 'SECURE' ? '#00ff00' : '#ff6600';
            setTimeout(() => {
                statusElement.textContent = 'SECURE';
                statusElement.style.color = '#00ff00';
            }, 5000);
        }

        function animateProgress(message, callback) {
            const progressDiv = document.createElement('div');
            progressDiv.innerHTML = `${message}<div class="progress-bar"><div class="progress-fill"></div></div>`;
            output.appendChild(progressDiv);
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += 5;
                progressDiv.querySelector('.progress-fill').style.width = progress + '%';
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        progressDiv.remove();
                        addToOutput(callback());
                    }, 500);
                }
            }, 100);
        }

        function addToOutput(text) {
            const newLine = document.createElement('div');
            newLine.className = 'output';
            newLine.innerHTML = '\n' + text;
            output.appendChild(newLine);
            window.scrollTo(0, document.body.scrollHeight);
        }

        function processCommand() {
            const command = commandInput.value.trim();
            if (!command) return;

            // Add to history
            commandHistory.push(command);
            if (commandHistory.length > 50) {
                commandHistory.shift();
            }
            historyIndex = -1;

            addToOutput(`\n${promptElement.textContent} ${command}`);
            
            const args = command.split(/\s+/);
            const cmd = args.shift().toLowerCase();
            
            if (commands[cmd]) {
                const result = commands[cmd](args);
                if (result) addToOutput(result);
            } else {
                addToOutput(`Command not found: ${cmd}\nType 'help' for available commands.`);
            }
            
            commandInput.value = '';
        }

        commandInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                processCommand();
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                if (historyIndex < commandHistory.length - 1) {
                    historyIndex++;
                    commandInput.value = commandHistory[commandHistory.length - 1 - historyIndex];
                }
            } else if (e.key === 'ArrowDown') {
                e.preventDefault();
                if (historyIndex > 0) {
                    historyIndex--;
                    commandInput.value = commandHistory[commandHistory.length - 1 - historyIndex];
                } else if (historyIndex === 0) {
                    historyIndex = -1;
                    commandInput.value = '';
                }
            }
        });

        // Initial focus
        commandInput.focus();
        updatePrompt();
    </script>
</body>
</html>
